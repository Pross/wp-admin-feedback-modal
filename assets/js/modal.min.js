/*! WP Admin Feedback Modal v1.0.0 Thursday 29th August 2019 07:52:26 AM GMT+0200 */
var $=jQuery;function Modal(t){var e=this;this.elem=t,this.overlay=$(".wp-admin-fb-modal-overlay"),this.radio=$("input[name=reason]",t),this.closer=$(".close, .cancel",t),this.return=$(".return",t),this.opener=$('.plugins [data-slug="'+plugin_slug+'"] .deactivate'),this.question=$(".question",t),this.button=$(".button-primary",t),this.title=$(".header h2",t),this.textFields=$("input[type=text], textarea",t),this.hiddenReason=$("#reason",t),this.hiddenDetails=$("#details",t),this.titleText=this.title.text(),this.opener.click(function(){return e.open(),!1}),this.closer.click(function(){return e.close(),!1}),t.bind("keyup",function(){if(27==event.keyCode)return e.close(),!1}),this.return.click(function(){return e.returnToQuestion(),!1}),this.radio.change(function(){e.change($(this))}),this.textFields.keyup(function(){e.hiddenDetails.val($(this).val()),""!=e.hiddenDetails.val()?(e.button.removeClass("isDisabled"),e.button.removeAttr("disabled")):(e.button.addClass("isDisabled"),e.button.attr("disabled",!0))})}$(document).ready(function(){var t=$(".wp-admin-fb-modal."+plugin_slug);t&&new Modal(t),$("#send-deactivation").on("click",function(t){var e=$("#reason").val(),i=$("#details").val(),s=$(this).attr("href");t.preventDefault(),$.post($("#wp_admin_fb_modal_ajax_url").val(),{action:"wp_admin_fb_modal_"+plugin_slug,fb_reason:e,fb_details:i}).done(function(t){t?window.location.href=s:console.log("No response!")})})}),Modal.prototype.change=function(t){var e=t.attr("id"),i=this;switch(this.hiddenReason.val(t.val()),this.hiddenDetails.val(""),this.textFields.val(""),$(".fieldHidden").removeClass("isOpen"),$(".hidden").removeClass("isOpen"),this.button.removeClass("isDisabled"),this.button.removeAttr("disabled"),e){case"reason-temporary":break;default:var s=$("#"+e+"-panel"),n=t.siblings(".fieldHidden");if(0<s.length){i.question.removeClass("isOpen"),i.return.addClass("isOpen"),s.addClass("isOpen");var a=s.find("h3").text();this.title.text(a)}else 0<n.length&&(n.addClass("isOpen"),n.find("input, textarea").focus(),i.button.addClass("isDisabled"),i.button.attr("disabled",!0))}},Modal.prototype.returnToQuestion=function(){$(".fieldHidden").removeClass("isOpen"),$(".hidden").removeClass("isOpen"),this.question.addClass("isOpen"),this.return.removeClass("isOpen"),this.title.text(this.titleText),this.hiddenReason.val(""),this.hiddenDetails.val(""),this.radio.attr("checked",!1),this.button.addClass("isDisabled"),this.button.attr("disabled",!0)},Modal.prototype.open=function(){this.elem.css("display","block"),this.overlay.css("display","block")},Modal.prototype.close=function(){this.returnToQuestion(),this.elem.css("display","none"),this.overlay.css("display","none")};